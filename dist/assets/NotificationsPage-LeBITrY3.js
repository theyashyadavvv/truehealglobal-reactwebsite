import{r as o,ak as g,j as s}from"./index-CSWpObML.js";import{d as f,c as p,F as y,e as v,f as F}from"./index-4xCh7bWN.js";const d={order:F,payment:v,offer:y,default:f},S=()=>{const[c,n]=o.useState([]),[m,r]=o.useState(!0),[h,x]=o.useState(1),[j,u]=o.useState(!0);o.useEffect(()=>{l(1)},[]);const l=async t=>{try{t===1&&r(!0);const e=await g(t),a=(e==null?void 0:e.data)||(e==null?void 0:e.notifications)||e||[];n(t===1?a:i=>[...i,...a]),u(a.length>=10),x(t)}catch(e){console.error("Failed to load notifications",e)}finally{r(!1)}},N=t=>{const e=d[t]||d.default;return s.jsx(e,{size:20})},_=t=>{if(!t)return"";const e=Date.now()-new Date(t).getTime(),a=Math.floor(e/6e4);if(a<60)return`${a}m ago`;const i=Math.floor(a/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`};return s.jsxs("div",{className:"notifications-page",children:[s.jsx("section",{className:"noti-page__hero",children:s.jsx("div",{className:"container",children:s.jsx("h1",{children:"Notifications"})})}),s.jsx("section",{className:"container noti-page__body",children:m?s.jsx("div",{className:"noti-skeletons",children:[...Array(6)].map((t,e)=>s.jsx("div",{className:"noti-skeleton"},e))}):c.length===0?s.jsxs("div",{className:"noti-empty",children:[s.jsx(f,{size:48}),s.jsx("h3",{children:"No Notifications"}),s.jsx("p",{children:"You're all caught up!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"noti-list",children:c.map((t,e)=>s.jsxs("div",{className:`noti-card ${t.is_read?"":"unread"}`,children:[s.jsx("div",{className:`noti-card__icon ${t.type||"default"}`,children:t.image?s.jsx("img",{src:t.image,alt:"",className:"noti-card__img"}):N(t.type)}),s.jsxs("div",{className:"noti-card__content",children:[s.jsx("h4",{className:"noti-card__title",children:t.title||"Notification"}),s.jsx("p",{className:"noti-card__desc",children:t.description||t.body||""}),s.jsxs("span",{className:"noti-card__time",children:[s.jsx(p,{size:12})," ",_(t.created_at||t.updated_at)]})]})]},t.id||e))}),j&&s.jsx("button",{className:"noti-load-more",onClick:()=>l(h+1),children:"Load More"})]})})]})};export{S as default};
